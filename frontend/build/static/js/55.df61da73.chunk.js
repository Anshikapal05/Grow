/*! For license information please see 55.df61da73.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[55,529,241],{1529:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(5043),o=n(8868),r=n(579);const s=()=>{const[e,t]=(0,a.useState)(""),[n,s]=(0,a.useState)(1e3),[c,i]=(0,a.useState)(1),[l,u]=(0,a.useState)(""),[d,p]=(0,a.useState)(null),h=(0,o.A)((e=>e.sendInputDataToBackend)),f=(0,o.A)((e=>e.addInputData));return(0,r.jsx)("main",{className:"product-management",children:(0,r.jsx)("article",{children:(0,r.jsxs)("form",{onSubmit:a=>{a.preventDefault();const o={name:e,price:n,stock:c,photo:d};h(o),f(o),t(""),s(1e3),i(1),u(""),p(null)},children:[(0,r.jsx)("h2",{children:"New Product"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Name"}),(0,r.jsx)("input",{type:"text",placeholder:"Name",value:e,name:"name",onChange:e=>{t(e.target.value)}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Price"}),(0,r.jsx)("input",{type:"number",placeholder:"Price",value:n,name:"price",onChange:e=>{const t=e.target.value,n=parseFloat(t);s(n)}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Stock"}),(0,r.jsx)("input",{type:"number",placeholder:"Stock",value:c,name:"stock",onChange:e=>{const t=e.target.value,n=parseInt(t,10);i(n)}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Photo"}),(0,r.jsx)("input",{type:"file",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0],a=new FileReader;n?(a.readAsDataURL(n),a.onloadend=()=>{"string"===typeof a.result&&(u(a.result),p(n))}):(u(""),p(null))},name:"file"})]}),l&&(0,r.jsx)("img",{src:l,alt:"NewImage"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Upload Image"}),(0,r.jsx)("input",{type:"file",onChange:async e=>{const t=e.target.files[0],n=new FormData;n.append("file",t);try{const e=await fetch("http://localhost:5000/api/v1/upload/new",{method:"POST",body:n});if(e.ok){const t=await e.json();p(t.filePath),console.log("File path:",t.filePath)}else console.error("Failed to upload image")}catch(a){console.error("Error uploading image:",a)}},name:"file"})]}),(0,r.jsx)("button",{type:"submit",children:"Create"})]})})})}},4241:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(9950),o=n(499),r=n(5043),s=n(5486),c=n(579);const i=()=>{const[e,t]=(0,r.useState)(),[n,i]=(0,o.A)(e,{successDuration:1e3}),[l,u]=(0,r.useState)(null),[d,p]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),{transcript:m,browserSupportsSpeechRecognition:g,resetTranscript:x}=(0,a.Vw)(),v=()=>{a.Ay.stopListening(),f(!1),t(null),u(null),p(null)};return(0,r.useEffect)((()=>{m&&fetch("http://localhost:3002/product?input=".concat(encodeURIComponent(m))).then((e=>{if(!e.ok)throw new Error("Product not found");return e.json()})).then((e=>{u(e),console.log(e),p(null)})).catch((e=>{console.error("Error fetching product data:",e),p(e.message),u(null)}))}),[m]),g?(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"speech-container",children:[(0,c.jsx)("h2",{children:"Speech to Text Converter"}),(0,c.jsx)("br",{}),(0,c.jsx)("p",{children:"A React hook that converts speech from the microphone to text and makes it available to your React components."}),(0,c.jsx)("div",{className:"main-content",onClick:()=>t(m),children:m}),(0,c.jsxs)("div",{className:"btn-style",children:[(0,c.jsx)("button",{onClick:i,children:n?"Copied!":"Copy to clipboard"}),h?(0,c.jsx)("button",{onClick:v,children:"Stop Listening"}):(0,c.jsx)("button",{onClick:()=>{a.Ay.startListening({continuous:!0,language:"en-IN"}),f(!0),setTimeout((()=>{v()}),1e4)},children:"Start Listening"}),(0,c.jsx)("button",{onClick:()=>{x(),t(null),u(null),p(null),f(!1)},children:"Refresh"})]}),d?(0,c.jsx)("p",{children:d}):l?(0,c.jsx)(s.A,{className:"product-card1",name:l.name,stock:l.stock,photo:l.photo,price:l.price}):(0,c.jsx)("p",{children:"Loading product..."})]})}):(0,c.jsx)("p",{children:"Your browser does not support speech recognition."})}},5486:(e,t,n)=>{n.d(t,{A:()=>r});n(5043);var a=n(184),o=n(579);const r=e=>{let{productId:t,price:n,name:r,photo:s,stock:c,addToCart:i}=e;return(0,o.jsxs)("div",{className:"product-card",children:[(0,o.jsx)("div",{className:"image-container",children:(0,o.jsx)("img",{src:s,alt:r})}),(0,o.jsx)("p",{children:r}),(0,o.jsxs)("span",{children:["\u20b9",n]}),(0,o.jsx)("div",{className:"svg",children:(0,o.jsx)("button",{onClick:()=>i(t),children:(0,o.jsx)(a.OiG,{})})})]})}},7055:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(5043),o=n(4241),r=n(6213),s=n(579);const c=()=>{const[e,t]=(0,a.useState)(""),[n,o]=(0,a.useState)([]),[c,i]=(0,a.useState)(!1),[l,u]=(0,a.useState)(null);return(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const n=e.target.files[0],a=new FormData;a.append("file",n);try{i(!0),u(null);const e=await r.A.post("http://localhost:5000/api/v1/recognize/new",a,{headers:{"Content-Type":"multipart/form-data"}});o(e.data.annotations),t(URL.createObjectURL(n))}catch(l){console.error("Error uploading image:",l),u("Failed to recognize image")}finally{i(!1)}}}),c&&(0,s.jsx)("p",{children:"Loading..."}),l&&(0,s.jsxs)("p",{children:["Error: ",l]}),e&&(0,s.jsx)("img",{src:e,alt:"Uploaded",style:{maxWidth:"100%",marginTop:"20px"}}),n.length>0&&(0,s.jsxs)("div",{style:{marginTop:"20px"},children:[(0,s.jsx)("h3",{children:"Annotations"}),(0,s.jsx)("ul",{children:n.map(((e,t)=>(0,s.jsx)("li",{children:e},t)))})]})]})};var i=n(1529),l=n(2639);const u=()=>{const e={color:"aliceblue",textDecoration:"none",fontSize:"22px",fontWeight:"bold"};return(0,s.jsxs)("nav",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 20px",backgroundColor:"#dfff8d",borderBottom:"1px solid #e7e7e7",backgroundColor:"#62a351"},children:[(0,s.jsx)("div",{className:"navbar__logo_prod",style:{color:"aliceblue",fontSize:"30px",fontWeight:"bold",paddingLeft:"10px"},children:(0,s.jsx)(l.uu9,{})}),(0,s.jsxs)("div",{className:"navbar__menu_prod",style:{display:"flex",gap:"15px"},children:[(0,s.jsx)("a",{href:"/producer/additems",className:"navbar__item_prod",style:e,children:"Add Items"}),(0,s.jsx)("a",{href:"/signup",className:"navbar__item_prod",style:e,children:"Sign Up/Log in"})]})]})},d=()=>{const[e,t]=(0,a.useState)("");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"options",children:[(0,s.jsx)("button",{onClick:()=>t("Basic"),children:"Basic"}),(0,s.jsx)("button",{onClick:()=>t("SpeechRecogination"),children:"SpeechRecogination"}),(0,s.jsx)("button",{onClick:()=>t("CameraRecogination"),children:"CameraRecogination"})]}),(0,s.jsx)("div",{className:"selected-option",children:(()=>{switch(e){case"SpeechRecogination":return(0,s.jsx)(o.default,{});case"CameraRecogination":return(0,s.jsx)(c,{});default:return(0,s.jsx)(i.default,{})}})()})]})]})}},8868:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(4548),o=n(6213);const r="http://localhost:5000/api/v1/product",s=(0,a.vt)(((e,t)=>({cartItems:[],foodList:[],inputData:[],addToCart:async n=>{try{const a=(await o.A.get("".concat(r,"/").concat(n))).data,s=t().cartItems.findIndex((e=>e._id===n));if(-1!==s){const n=[...t().cartItems];n[s].quantity+=1,e({cartItems:n})}else{const n=[...t().cartItems,{...a,quantity:1}];e({cartItems:n})}console.log("Product ".concat(a.name," added to cart"))}catch(a){console.error("Error adding product to cart:",a)}},removeFromCart:t=>e((e=>{const n=[...e.cartItems],a=n.findIndex((e=>e._id===t));return-1!==a&&(n[a].quantity-=1,0===n[a].quantity&&n.splice(a,1)),{cartItems:n}})),getTotalCartAmount:()=>{const{cartItems:e}=t();let n=0;return e.forEach((e=>{n+=e.price*e.quantity})),n},setFoodList:t=>e({foodList:t}),fetchFoodList:async()=>{try{const t=await o.A.get(r);e({foodList:t.data})}catch(t){console.error("Failed to fetch food list:",t)}},addInputData:t=>{console.log("Input data:",t),e((e=>({inputData:[...e.inputData,t]})))},sendInputDataToBackend:async e=>{try{const t="Dabbemein4098",n={name:e.name,photo:e.photo,price:parseFloat(e.price),stock:parseInt(e.stock,10)},a=await o.A.post("http://localhost:5000/api/v1/product/new",n,{headers:{Authorization:"Bearer ".concat(t)}});console.log("Input data sent to the backend:",a.data)}catch(t){console.error("Error sending input data to the backend:",t)}}})))},5956:(e,t,n)=>{var a=n(5043);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},r=a.useState,s=a.useEffect,c=a.useLayoutEffect,i=a.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(a){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),a=r({inst:{value:n,getSnapshot:t}}),o=a[0].inst,u=a[1];return c((function(){o.value=n,o.getSnapshot=t,l(o)&&u({inst:o})}),[e,n,t]),s((function(){return l(o)&&u({inst:o}),e((function(){l(o)&&u({inst:o})}))}),[e]),i(n),n};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:u},5039:(e,t,n)=>{var a=n(5043),o=n(9461);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=o.useSyncExternalStore,c=a.useRef,i=a.useEffect,l=a.useMemo,u=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,a,o){var d=c(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=l((function(){function e(e){if(!i){if(i=!0,s=e,e=a(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return c=t}return c=e}if(t=c,r(s,e))return t;var n=a(e);return void 0!==o&&o(t,n)?t:(s=e,c=n)}var s,c,i=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,a,o]);var h=s(e,d[0],d[1]);return i((function(){p.hasValue=!0,p.value=h}),[h]),u(h),h}},9461:(e,t,n)=>{e.exports=n(5956)},8443:(e,t,n)=>{e.exports=n(5039)},4548:(e,t,n)=>{n.d(t,{vt:()=>p});const a=e=>{let t;const n=new Set,a=(e,a)=>{const o="function"===typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=a?a:"object"!==typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,r={setState:a,getState:o,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(a,o,r);return r},o=e=>e?a(e):a;var r=n(5043),s=n(8443);const{useDebugValue:c}=r,{useSyncExternalStoreWithSelector:i}=s;let l=!1;const u=e=>e;const d=e=>{"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"===typeof e?o(e):e,n=(e,n)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=arguments.length>2?arguments[2]:void 0;n&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);const a=i(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return c(a),a}(t,e,n);return Object.assign(n,t),n},p=e=>e?d(e):d}}]);
//# sourceMappingURL=55.df61da73.chunk.js.map