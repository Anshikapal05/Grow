/*! For license information please see 177.f839469e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[177],{1177:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i});var a=n(5043),r=n(8868),s=n(3216),o=n(6213),c=n(579);const i=()=>{const t=(0,r.A)((t=>t.getTotalCartAmount)),[e,n]=(0,a.useState)(""),[i,l]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[p,h]=(0,a.useState)(""),[f,v]=(0,a.useState)(""),[y,m]=(0,a.useState)(""),x=(0,r.A)((t=>t.cartItems)),g=(0,s.Zp)();return(0,c.jsxs)("form",{className:"place-order",onSubmit:async()=>{try{const n=await o.A.post("http://localhost:5000/api/v1/order/new",{user:e,products:x,shippingAddress:{street:i,city:u,state:p,postalCode:f,country:y},status:"pending",totalAmount:t()});console.log("Order placed:",n.data),g("/payment")}catch(n){console.error("Error placing order:",n)}},children:[(0,c.jsxs)("div",{className:"place-order-left",children:[(0,c.jsx)("p",{className:"title",children:"Delivery Information"}),(0,c.jsxs)("div",{className:"multi-fields",children:[(0,c.jsx)("input",{type:"text",placeholder:"First name"}),(0,c.jsx)("input",{type:"text",placeholder:"Last name"})]}),(0,c.jsx)("input",{type:"email",placeholder:"Email address",value:e,onChange:t=>n(t.target.value)}),(0,c.jsx)("input",{type:"text",placeholder:"Street",value:i,onChange:t=>l(t.target.value)}),(0,c.jsxs)("div",{className:"multi-fields",children:[(0,c.jsx)("input",{type:"text",placeholder:"City",value:u,onChange:t=>d(t.target.value)}),(0,c.jsx)("input",{type:"text",placeholder:"State",value:p,onChange:t=>h(t.target.value)})]}),(0,c.jsxs)("div",{className:"multi-fields",children:[(0,c.jsx)("input",{type:"text",placeholder:"Zip code",value:f,onChange:t=>v(t.target.value)}),(0,c.jsx)("input",{type:"text",placeholder:"Country",value:y,onChange:t=>m(t.target.value)})]}),(0,c.jsx)("input",{type:"text",placeholder:"Phone"})]}),(0,c.jsx)("div",{className:"place-order-right",children:(0,c.jsxs)("div",{className:"cart-total",children:[(0,c.jsx)("h2",{children:"Cart totals"}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"cart-total-details",children:[(0,c.jsx)("p",{children:"Subtotal"}),(0,c.jsxs)("p",{children:["$",t()]})]}),(0,c.jsx)("hr",{}),(0,c.jsxs)("div",{className:"cart-total-details",children:[(0,c.jsx)("p",{children:"Delivery Fee"}),(0,c.jsxs)("p",{children:["$",0===t()?0:2]})]}),(0,c.jsx)("hr",{}),(0,c.jsxs)("div",{className:"cart-total-details",children:[(0,c.jsx)("b",{children:"Total"}),(0,c.jsxs)("b",{children:["$",0===t()?0:t()+2]})]})]}),(0,c.jsx)("button",{onClick:()=>g("/payment"),children:"PROCEED TO PAYMENT"})]})})]})}},8868:(t,e,n)=>{n.d(e,{A:()=>o});var a=n(4548),r=n(6213);const s="http://localhost:5000/api/v1/product",o=(0,a.vt)(((t,e)=>({cartItems:[],foodList:[],inputData:[],addToCart:async n=>{try{const a=(await r.A.get("".concat(s,"/").concat(n))).data,o=e().cartItems.findIndex((t=>t._id===n));if(-1!==o){const n=[...e().cartItems];n[o].quantity+=1,t({cartItems:n})}else{const n=[...e().cartItems,{...a,quantity:1}];t({cartItems:n})}console.log("Product ".concat(a.name," added to cart"))}catch(a){console.error("Error adding product to cart:",a)}},removeFromCart:e=>t((t=>{const n=[...t.cartItems],a=n.findIndex((t=>t._id===e));return-1!==a&&(n[a].quantity-=1,0===n[a].quantity&&n.splice(a,1)),{cartItems:n}})),getTotalCartAmount:()=>{const{cartItems:t}=e();let n=0;return t.forEach((t=>{n+=t.price*t.quantity})),n},setFoodList:e=>t({foodList:e}),fetchFoodList:async()=>{try{const e=await r.A.get(s);t({foodList:e.data})}catch(e){console.error("Failed to fetch food list:",e)}},addInputData:e=>{console.log("Input data:",e),t((t=>({inputData:[...t.inputData,e]})))},sendInputDataToBackend:async t=>{try{const e="Dabbemein4098",n={name:t.name,photo:t.photo,price:parseFloat(t.price),stock:parseInt(t.stock,10)},a=await r.A.post("http://localhost:5000/api/v1/product/new",n,{headers:{Authorization:"Bearer ".concat(e)}});console.log("Input data sent to the backend:",a.data)}catch(e){console.error("Error sending input data to the backend:",e)}}})))},5956:(t,e,n)=>{var a=n(5043);var r="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},s=a.useState,o=a.useEffect,c=a.useLayoutEffect,i=a.useDebugValue;function l(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!r(t,n)}catch(a){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),a=s({inst:{value:n,getSnapshot:e}}),r=a[0].inst,u=a[1];return c((function(){r.value=n,r.getSnapshot=e,l(r)&&u({inst:r})}),[t,n,e]),o((function(){return l(r)&&u({inst:r}),t((function(){l(r)&&u({inst:r})}))}),[t]),i(n),n};e.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:u},5039:(t,e,n)=>{var a=n(5043),r=n(9461);var s="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},o=r.useSyncExternalStore,c=a.useRef,i=a.useEffect,l=a.useMemo,u=a.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,a,r){var d=c(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=l((function(){function t(t){if(!i){if(i=!0,o=t,t=a(t),void 0!==r&&p.hasValue){var e=p.value;if(r(e,t))return c=e}return c=t}if(e=c,s(o,t))return e;var n=a(t);return void 0!==r&&r(e,n)?e:(o=t,c=n)}var o,c,i=!1,l=void 0===n?null:n;return[function(){return t(e())},null===l?void 0:function(){return t(l())}]}),[e,n,a,r]);var h=o(t,d[0],d[1]);return i((function(){p.hasValue=!0,p.value=h}),[h]),u(h),h}},9461:(t,e,n)=>{t.exports=n(5956)},8443:(t,e,n)=>{t.exports=n(5039)},4548:(t,e,n)=>{n.d(e,{vt:()=>p});const a=t=>{let e;const n=new Set,a=(t,a)=>{const r="function"===typeof t?t(e):t;if(!Object.is(r,e)){const t=e;e=(null!=a?a:"object"!==typeof r||null===r)?r:Object.assign({},e,r),n.forEach((n=>n(e,t)))}},r=()=>e,s={setState:a,getState:r,getInitialState:()=>o,subscribe:t=>(n.add(t),()=>n.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},o=e=t(a,r,s);return s},r=t=>t?a(t):a;var s=n(5043),o=n(8443);const{useDebugValue:c}=s,{useSyncExternalStoreWithSelector:i}=o;let l=!1;const u=t=>t;const d=t=>{"function"!==typeof t&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e="function"===typeof t?r(t):t,n=(t,n)=>function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=arguments.length>2?arguments[2]:void 0;n&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);const a=i(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return c(a),a}(e,t,n);return Object.assign(n,e),n},p=t=>t?d(t):d}}]);
//# sourceMappingURL=177.f839469e.chunk.js.map