/*! For license information please see 132.80f87846.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[132],{5132:(t,e,n)=>{n.r(e),n.d(e,{default:()=>o});n(5043);var r=n(3216),s=n(8868),a=n(579);const o=()=>{const t=(0,s.A)((t=>t.cartItems)),e=(0,s.A)((t=>t.removeFromCart)),n=(0,s.A)((t=>t.getTotalCartAmount)),o=(0,r.Zp)();return console.log("Cart Items:",t),(0,a.jsxs)("div",{className:"cart",children:[(0,a.jsxs)("div",{className:"cart-items",children:[(0,a.jsxs)("div",{className:"cart-item-title bold",children:[(0,a.jsx)("p",{children:"Item"}),(0,a.jsx)("p",{children:"Title"}),(0,a.jsx)("p",{children:"Price"}),(0,a.jsx)("p",{children:"Quantity"}),(0,a.jsx)("p",{children:"Total"}),(0,a.jsx)("p",{children:"Remove"})]}),(0,a.jsx)("br",{}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{children:t.map(((t,n)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"cart-item-title cart-item-item",children:[(0,a.jsx)("img",{src:t.photo,alt:t.name}),(0,a.jsx)("p",{children:t.name}),(0,a.jsx)("p",{children:t.price}),(0,a.jsx)("p",{children:t.quantity}),(0,a.jsx)("p",{children:t.price*t.quantity}),(0,a.jsx)("p",{onClick:()=>e(t._id),className:"cross",children:"x"})]}),(0,a.jsx)("hr",{})]},n)))})]}),(0,a.jsxs)("div",{className:"cart-bottom",children:[(0,a.jsxs)("div",{className:"cart-total",children:[(0,a.jsx)("h2",{children:"Cart totals"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"cart-total-details",children:[(0,a.jsx)("p",{children:"Subtotal"}),(0,a.jsx)("p",{children:n()})]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"cart-total-details",children:[(0,a.jsx)("p",{children:"Delivery Fee"}),(0,a.jsx)("p",{children:0===n()?0:2})]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"cart-total-details",children:[(0,a.jsx)("b",{children:"Total"}),(0,a.jsxs)("b",{children:["$",0===n()?0:n()+2]})]})]}),(0,a.jsx)("button",{onClick:()=>o("/placeOrder"),children:"PROCEED TO CHECKOUT"})]}),(0,a.jsx)("div",{className:"cart-promocode",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"If you have a promo code, Enter it here"}),(0,a.jsxs)("div",{className:"cart-promocode-input",children:[(0,a.jsx)("input",{type:"text",placeholder:"promo code"}),(0,a.jsx)("button",{children:"Submit"})]})]})})]})]})}},8868:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(4548),s=n(6213);const a="http://localhost:5000/api/v1/product",o=(0,r.vt)(((t,e)=>({cartItems:[],foodList:[],inputData:[],addToCart:async n=>{try{const r=(await s.A.get("".concat(a,"/").concat(n))).data,o=e().cartItems.findIndex((t=>t._id===n));if(-1!==o){const n=[...e().cartItems];n[o].quantity+=1,t({cartItems:n})}else{const n=[...e().cartItems,{...r,quantity:1}];t({cartItems:n})}console.log("Product ".concat(r.name," added to cart"))}catch(r){console.error("Error adding product to cart:",r)}},removeFromCart:e=>t((t=>{const n=[...t.cartItems],r=n.findIndex((t=>t._id===e));return-1!==r&&(n[r].quantity-=1,0===n[r].quantity&&n.splice(r,1)),{cartItems:n}})),getTotalCartAmount:()=>{const{cartItems:t}=e();let n=0;return t.forEach((t=>{n+=t.price*t.quantity})),n},setFoodList:e=>t({foodList:e}),fetchFoodList:async()=>{try{const e=await s.A.get(a);t({foodList:e.data})}catch(e){console.error("Failed to fetch food list:",e)}},addInputData:e=>{console.log("Input data:",e),t((t=>({inputData:[...t.inputData,e]})))},sendInputDataToBackend:async t=>{try{const e="Dabbemein4098",n={name:t.name,photo:t.photo,price:parseFloat(t.price),stock:parseInt(t.stock,10)},r=await s.A.post("http://localhost:5000/api/v1/product/new",n,{headers:{Authorization:"Bearer ".concat(e)}});console.log("Input data sent to the backend:",r.data)}catch(e){console.error("Error sending input data to the backend:",e)}}})))},5956:(t,e,n)=>{var r=n(5043);var s="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},a=r.useState,o=r.useEffect,c=r.useLayoutEffect,i=r.useDebugValue;function l(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!s(t,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=a({inst:{value:n,getSnapshot:e}}),s=r[0].inst,u=r[1];return c((function(){s.value=n,s.getSnapshot=e,l(s)&&u({inst:s})}),[t,n,e]),o((function(){return l(s)&&u({inst:s}),t((function(){l(s)&&u({inst:s})}))}),[t]),i(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},5039:(t,e,n)=>{var r=n(5043),s=n(9461);var a="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},o=s.useSyncExternalStore,c=r.useRef,i=r.useEffect,l=r.useMemo,u=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var d=c(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=l((function(){function t(t){if(!i){if(i=!0,o=t,t=r(t),void 0!==s&&h.hasValue){var e=h.value;if(s(e,t))return c=e}return c=t}if(e=c,a(o,t))return e;var n=r(t);return void 0!==s&&s(e,n)?e:(o=t,c=n)}var o,c,i=!1,l=void 0===n?null:n;return[function(){return t(e())},null===l?void 0:function(){return t(l())}]}),[e,n,r,s]);var p=o(t,d[0],d[1]);return i((function(){h.hasValue=!0,h.value=p}),[p]),u(p),p}},9461:(t,e,n)=>{t.exports=n(5956)},8443:(t,e,n)=>{t.exports=n(5039)},4548:(t,e,n)=>{n.d(e,{vt:()=>h});const r=t=>{let e;const n=new Set,r=(t,r)=>{const s="function"===typeof t?t(e):t;if(!Object.is(s,e)){const t=e;e=(null!=r?r:"object"!==typeof s||null===s)?s:Object.assign({},e,s),n.forEach((n=>n(e,t)))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>o,subscribe:t=>(n.add(t),()=>n.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},o=e=t(r,s,a);return a},s=t=>t?r(t):r;var a=n(5043),o=n(8443);const{useDebugValue:c}=a,{useSyncExternalStoreWithSelector:i}=o;let l=!1;const u=t=>t;const d=t=>{"function"!==typeof t&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e="function"===typeof t?s(t):t,n=(t,n)=>function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=arguments.length>2?arguments[2]:void 0;n&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);const r=i(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return c(r),r}(e,t,n);return Object.assign(n,e),n},h=t=>t?d(t):d}}]);
//# sourceMappingURL=132.80f87846.chunk.js.map